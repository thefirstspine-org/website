<%- include('../elements/nav.ejs') %>

<div id="homepage">
  <div class="homepage-hero <%= ['hunter', 'sorcerer', 'summoner', 'conjurer'][Math.floor(Math.random() * 4)] %>">
    <div class="content">
      <img src="/images/thefirstspine-white.svg" />
      <p class="is-size-4 is-uppercase has-text-centered"><%= __("home.strategicCardGame") %></p>
      <p class="is-uppercase has-text-centered">
        <a href="/about" class="button is-primary is-size-5"><%= __("navigation.about") %></a>
      </p>
    </div>
  </div>

  <div class="separator"></div>

  <div class="news-list">
    <% news.forEach(function(newsItem) { %>
      <div class="news-item">
        <div class="image">
          <img src="/images/<%= newsItem.image %>" />
        </div>
        <h3 class="is-size-4 has-text-primary is-uppercase"><%= newsItem.title %></h3>
        <p><%- 
          (newsItem.text.replace(/(<([^>]+)>)/ig,' ').slice(0, 120).split(' ').slice(0, -1).join(' '))
        %>…</p>
        <p>
          <a href="/blog/<%= newsItem.slug %>" class="button is-primary"><%= __("home.readMore") %></a>
        </p>
      </div>
    <% }) %>
  </div>

  <% if (false) { %>
  <div class="band band-1">
    <div class="container">
      <div class="columns is-vcentered">
        <div class="column is-offset-6 is-5">
          <h3 class="has-text-primary is-size-3 is-uppercase has-text-shadow">Des cartes aux stratégies variées</h3>
          <p class="is-size-5 has-text-shadow">Créatures, artéfacts, sotilèges... vous avez tous les outils pour mettre en place votre stratégie et détruire votre adversaire.</p>
        </div>
        <div class="column is-full-height"></div>
      </div>
    </div>
  </div>

  <div class="band band-2">
    <div class="container">
      <div class="columns is-vcentered">
        <div class="column is-offset-1 is-5 has-text-right">
          <h3 class="has-text-primary is-size-3 is-uppercase has-text-shadow">Un jeu de cartes hautement stratégique</h3>
          <p class="is-size-5 has-text-shadow">Le placement de vos cartes et leurs associations décidera de votre victoire. Les decks sont étudiés pour que la chance n'ai qu'un impact très faible sur l'issue de la partie.</p>
        </div>
        <div class="column is-full-height"></div>
      </div>
    </div>
  </div>

  <div class="band band-3">
    <div class="container">
      <div class="columns is-vcentered">
        <div class="column is-offset-3 is-6 has-text-centered">
          <h3 class="has-text-primary is-size-3 is-uppercase has-text-shadow">Aidez au financement du jeu (en jouant)</h3>
          <p class="is-size-5 has-text-shadow">En jouant sur Arena, vous aidez au financement du jeu dans sa version papier.</p>
        </div>
        <div class="column is-full-height"></div>
      </div>
    </div>
  </div>
  <% } %>

  <div class="separator"></div>

  <div class="cycle cycle-<%= cycle.current.name %>">
    <div class="container">
      <h3 class="has-text-centered is-size-3 is-uppercase"><%= __("home.currentCycle") %></h3>
      <h2 class="has-text-centered is-size-2 is-uppercase"><%= cycle.current[`title_${__("locale")}`] %></h2>
      <div class="columns mt-4">
        <div class="column is-4 is-offset-4 has-text-centered">
          <p><%= cycle.current[`text_${__("locale")}`] %></p>
          <p class="is-uppercase has-text-centered mt-4">
            <a href="/arena" class="button is-primary is-size-5"><%= __("home.playOnline") %></a>
          </p>
        </div>
      </div>
    </div>
  </div>
  
  <div class="separator"></div>

  <div class="code">
    <div class="container">
      <h1 class="has-text-centered has-text-primary is-uppercase is-size-2"><%= __("home.enterYourCode") %></h1>
      <p class="has-text-centered"><%= __("home.enterYourCodeText") %></p>
      <form action="/codes" method="POST" class="has-text-centered mt-4">
        <div class="field">
          <div class="control codeinput">
            <codeinput classname="input is-large" name="code" placeholder="0000-0000-0000"></codeinput>
          </div>
        </div>
        <div class="field">
          <input class="button is-primary is-medium" type="submit" value="<%= __("home.send") %>" />
        </div>
      </form>
    </div>
  </div>

  <div class="separator"></div>

  <div class="card-of-the-day">
    <div class="container">
      <h2 class="has-text-centered is-size-3 is-uppercase"><%= __("home.cardOfTheDay") %></h2>
      <h3 class="has-text-centered is-size-4 is-uppercase"><%= __("home.cardOfTheDaytext") %></h3>
      <div class="has-text-centered">
        <div class="card-wrapper is-fluid">
          <card-autoload color="#111"
            locale="<%= __("locale") %>"
            :holo="<%= cardOfTheDay.isHolo %>"
            :premium="<%= cardOfTheDay.isPremium %>"
            cardId="<%= cardOfTheDay.cardId %>"></card-autoload>
        </div>
      </div>
    </div>
  </div>

</div>

<%- include('../elements/footer.ejs') %>
