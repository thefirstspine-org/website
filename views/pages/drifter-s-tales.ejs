<%- include('../elements/nav.ejs') %>

<div id="drifter-s-tales" class="has-text-centered">
  <div class="drifter-s-tales-heading has-text-centered">
    <div class="container">
      <h1 class="is-size-1 is-uppercase has-text-primary has-text-shadow">Drifter's Tales</h1>
      <h1 class="is-size-4 is-uppercase has-text-primary has-text-shadow">
        Les Contes du Vagabond
      </h1>
      <p class="mt-6">
        <a class="button is-info is-large">
          <span class="icon">
            <i class="fab fa-steam"></i>
          </span>
          <span><%= __("driftersTales.getIt") %></span>
        </a>
      </p>
    </div>
  </div>

  <div class="container">
    <p class="mb-4 is-size-4"><%= __("driftersTales.intro1") %></p>
    <p class="mb-4 is-size-5"><%= __("driftersTales.intro2") %></p>

    <div class="my-6">
      <figure class="image is-16by9">
        <iframe
          class="has-ratio"
          width="560"
          height="315"
          src="https://www.youtube.com/embed/sRg8SgFJaUU"
          title="YouTube video player"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe>
      </figure>
    </div>

    <div class="my-6">
      <screenshots
        :images="[
          '/images/drifters-tales-screenshot-1.jpg',
          '/images/drifters-tales-screenshot-2.jpg',
          '/images/drifters-tales-screenshot-3.jpg',
          '/images/drifters-tales-screenshot-4.jpg',
          '/images/drifters-tales-screenshot-5.jpg',
          '/images/drifters-tales-screenshot-6.jpg',
        ]"
      ></screenshots>
    </div>

    <p class="mb-4 is-size-5 has-text-grey is-uppercase"><%= __("driftersTales.screenshots") %></p>
    <p class="mb-4 is-size-5 has-text-grey is-uppercase"><%= __("driftersTales.release") %></p>
  </div>
  <a name="give"></a>

  <div class="separator my-6"></div>

  <div class="container my-6">
    <h1 class="is-size-3 is-uppercase has-text-primary mb-6"><%= __("driftersTales.tipTitle") %></h1>
    <div class="columns">
      <div class="column is-6 is-offset-3">
        <% if (giveCancel) { %>
          <p class="has-text-danger"><%= __("driftersTales.giveCancel") %></p>
        <% } %>
        <% if (giveSuccess) { %>
          <p class="has-text-success"><%= __("driftersTales.giveSuccess") %></p>
        <% } %>
        <% if (!giveSuccess && !giveCancel) { %>
          <p class="mb-4 is-size-5"><%= __("driftersTales.tipText") %></p>
        <% } %>
      </div>
    </div>
    <p class="mb-4">
      <a class="button is-info is-large" href="/drifters-tales/give/1" target="_blank">
        <span class="icon" style="font-size: .5em">
          <i class="fas fa-coins"></i>
        </span>
        <span>1 &euro;</span>
      </a>
      <a class="button is-warning is-large" href="/drifters-tales/give/2" target="_blank">
        <span class="icon">
          <i class="fas fa-coins"></i>
        </span>
        <span>2 &euro;</span>
      </a>
      <a class="button is-danger is-large" href="/drifters-tales/give/3" target="_blank">
        <span class="icon" style="font-size: 1.5em">
          <i class="fas fa-coins"></i>
        </span>
        <span>5 &euro;</span>
      </a>
    </p>
  </div>

  <div class="separator my-6"></div>

  <div class="container my-6">
    <h1 class="is-size-3 is-uppercase has-text-primary mb-6"><%= __("driftersTales.stayInformed") %></h1>
    <form class="columns" action="/drifters-tales/mailing-list" method="POST">
      <div class="column is-4 is-offset-4 has-text-centered">
        <p class="mb-4">
          <%= __("driftersTales.newsletter") %>
        </p>
        <% if (mailingListError) { %>
          <p class="has-text-danger"><%= mailingListError %></p>
        <% } %>
        <% if (mailingListMessage) { %>
          <p class="has-text-success"><%= mailingListMessage %></p>
        <% } %>
        <div class="field has-addons">
          <div class="control is-expanded has-icons-left">
            <input class="input is-fullwidth" type="email" placeholder="<%= __("driftersTales.email") %>" name="email">
            <span class="icon is-small is-left">
              <i class="fas fa-envelope"></i>
            </span>
          </div>
          <div class="control">
            <button type="submit" class="button is-primary m-0"><%= __("driftersTales.send") %></button>
          </div>
        </div>
      </div>
    </form>
  </div>

  <div class="separator my-6"></div>

  <div class="container my-6">
    <h1 class="is-size-3 is-uppercase has-text-primary mb-6"><%= __("driftersTales.devlog") %></h1>
    <div class="columns">
      <% devlogs.forEach(function(devlog, index) { %>
        <% if (index % 3 === 0) { %>
          </div><div class="columns">
        <% } %>
        <div class="column is-4">
          <figure class="image is-16by9">
            <iframe
              class="has-ratio"
              width="560"
              height="315"
              src="https://www.youtube.com/embed/<%= devlog.youtubeId %>"
              title="YouTube video player"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen></iframe>
          </figure>
        </div>
      <% }) %>
      <% if (devlogs.length <= 3) { %>
        <% for(let i = 0; i < 3 - devlogs.length; i++) { %>
          <div class="column is-4">
            <figure class="image is-16by9">
              <img src="/images/drifters-tales-video-placeholder.jpg" />
            </figure>
          </div>
        <% } %>
      <% } else { %>
        <% for(let i = 0; i < devlogs.length % 3 + 1; i++) { %>
          <div class="column is-4">
            <figure class="image is-16by9">
              <img src="/images/drifters-tales-video-placeholder.jpg" />
            </figure>
          </div>
        <% } %>
      <% } %>
    </div>
  </div>


</div>

<%- include('../elements/footer.ejs') %>
